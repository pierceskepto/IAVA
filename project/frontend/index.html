<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Math Learning Quiz - Enhanced</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: white;
      position: relative;
      overflow-x: hidden;
      transition: all 0.8s ease;
    }
    
    /* Background overlay for topic images */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      opacity: 0;
      transition: all 0.8s ease;
      z-index: -2;
      filter: blur(1px) brightness(0.3);
    }
    
    /* Gradient overlay to maintain readability */
    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.7) 0%, rgba(118, 75, 162, 0.7) 100%);
      z-index: -1;
      transition: opacity 0.8s ease;
    }
    
    /* Topic-specific background states */
    body.fractions-bg::before {
      background-image: url('https://www.freepik.com/premium-photo/dividing-fractions-math-concept_7671426.htm#fromView=keyword&page=1&position=13&uuid=4e042236-2aab-49e4-b301-df95ca15d122&query=Fraction+Background');
      opacity: 1;
    }
    
    body.decimals-bg::before {
      background-image: url('https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=1920&h=1080&fit=crop');
      opacity: 1;
    }
    
    body.angles-bg::before {
      background-image: url('https://images.unsplash.com/photo-1509228468518-180dd4864904?w=1920&h=1080&fit=crop');
      opacity: 1;
    }
    
    body.multiplication-bg::before {
      background-image: url('https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=1920&h=1080&fit=crop');
      opacity: 1;
    }
    
    body.ratios-bg::before {
      background-image: url('https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=1920&h=1080&fit=crop');
      opacity: 1;
    }
    
    body.statistics-bg::before {
      background-image: url('https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1920&h=1080&fit=crop');
      opacity: 1;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      text-align: center;
      position: relative;
      z-index: 1;
    }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
      transition: all 0.5s ease;
    }
    
    .subtitle {
      font-size: 1.2rem;
      margin-bottom: 3rem;
      opacity: 0.9;
      text-shadow: 1px 1px 4px rgba(0,0,0,0.5);
    }
    
    .topic-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 2rem;
    }
    
    .topic-button {
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 15px;
      padding: 30px 20px;
      font-size: 1.3rem;
      color: white;
      cursor: pointer;
      transition: all 0.4s ease;
      backdrop-filter: blur(15px);
      position: relative;
      overflow: hidden;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    }
    
    .topic-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.6s ease;
    }
    
    .topic-button:hover {
      background: rgba(255, 255, 255, 0.25);
      border-color: rgba(255, 255, 255, 0.6);
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 15px 40px rgba(0,0,0,0.3);
    }
    
    .topic-button:hover::before {
      left: 100%;
    }
    
    .topic-icon {
      font-size: 3rem;
      display: block;
      margin-bottom: 10px;
      transition: transform 0.3s ease;
    }
    
    .topic-button:hover .topic-icon {
      transform: scale(1.2) rotate(5deg);
    }
    
    /* Enhanced hover effects for specific topics */
    .topic-button[data-topic="fractions"]:hover {
      border-color: #ff6b6b;
      box-shadow: 0 15px 40px rgba(255, 107, 107, 0.3);
    }
    
    .topic-button[data-topic="decimals"]:hover {
      border-color: #4ecdc4;
      box-shadow: 0 15px 40px rgba(78, 205, 196, 0.3);
    }
    
    .topic-button[data-topic="angles"]:hover {
      border-color: #45b7d1;
      box-shadow: 0 15px 40px rgba(69, 183, 209, 0.3);
    }
    
    .topic-button[data-topic="multi-digit-multiplication"]:hover {
      border-color: #f9ca24;
      box-shadow: 0 15px 40px rgba(249, 202, 36, 0.3);
    }
    
    .topic-button[data-topic="ratios-and-proportional-relationships"]:hover {
      border-color: #6c5ce7;
      box-shadow: 0 15px 40px rgba(108, 92, 231, 0.3);
    }
    
    .topic-button[data-topic="statistics"]:hover {
      border-color: #a29bfe;
      box-shadow: 0 15px 40px rgba(162, 155, 254, 0.3);
    }
    
    /* Floating animation for enhanced interactivity */
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    .topic-button.floating {
      animation: float 3s ease-in-out infinite;
    }
    
    /* Background transition hint text */
    .bg-hint {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.5);
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 0.9rem;
      opacity: 0.7;
      backdrop-filter: blur(10px);
      transition: opacity 0.3s ease;
    }
    
    .bg-hint.show {
      opacity: 1;
    }
    
    /* Mobile responsiveness */
    @media (max-width: 768px) {
      .topic-buttons {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .topic-button {
        padding: 25px 15px;
        font-size: 1.1rem;
      }
      
      .bg-hint {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üßÆ AI Math Learning Quiz</h1>
    <p class="subtitle">Choose a topic to start your math learning journey!</p>

    <div class="topic-buttons">
      <button class="topic-button" data-topic="fractions">
        <span class="topic-icon">üçï</span>
        Fractions
      </button>
      <button class="topic-button" data-topic="decimals">
        <span class="topic-icon">üî¢</span>
        Decimals
      </button>
      <button class="topic-button" data-topic="angles">
        <span class="topic-icon">üìê</span>
        Angles
      </button>
      <button class="topic-button" data-topic="multi-digit-multiplication">
        <span class="topic-icon">‚úñÔ∏è</span>
        Multi-digit Multiplication
      </button>
      <button class="topic-button" data-topic="ratios-and-proportional-relationships">
        <span class="topic-icon">‚öñÔ∏è</span>
        Ratios & Proportions
      </button>
      <button class="topic-button" data-topic="statistics">
        <span class="topic-icon">üìä</span>
        Statistics
      </button>
    </div>
  </div>

  <div class="bg-hint" id="bgHint">Hover over topics to see background changes!</div>

  <script>
    // Background change functionality
    const topicButtons = document.querySelectorAll('.topic-button');
    const body = document.body;
    const bgHint = document.getElementById('bgHint');
    
    // Mapping topics to background classes
    const topicBackgrounds = {
      'fractions': 'fractions-bg',
      'decimals': 'decimals-bg', 
      'angles': 'angles-bg',
      'multi-digit-multiplication': 'multiplication-bg',
      'ratios-and-proportional-relationships': 'ratios-bg',
      'statistics': 'statistics-bg'
    };
    
    let hoverTimeout;
    let isFirstHover = true;
    
    topicButtons.forEach(button => {
      button.addEventListener('mouseenter', () => {
        const topic = button.dataset.topic;
        const bgClass = topicBackgrounds[topic];
        
        // Clear any existing background classes
        Object.values(topicBackgrounds).forEach(cls => {
          body.classList.remove(cls);
        });
        
        // Add new background class
        if (bgClass) {
          body.classList.add(bgClass);
        }
        
        // Show hint on first hover
        if (isFirstHover) {
          bgHint.classList.add('show');
          isFirstHover = false;
          setTimeout(() => {
            bgHint.classList.remove('show');
          }, 3000);
        }
        
        // Add floating animation temporarily
        button.classList.add('floating');
        clearTimeout(hoverTimeout);
      });
      
      button.addEventListener('mouseleave', () => {
        // Remove floating animation after delay
        hoverTimeout = setTimeout(() => {
          button.classList.remove('floating');
        }, 500);
        
        // Remove background after a short delay to prevent flickering
        setTimeout(() => {
          Object.values(topicBackgrounds).forEach(cls => {
            body.classList.remove(cls);
          });
        }, 300);
      });
      
      // Handle topic selection (keeping original functionality)
      button.addEventListener('click', () => {
        const topic = button.dataset.topic;
        // Navigate to topic overview page
        window.location.href = `topic-overview.html?topic=${topic}`;
      });
    });
    
    // Preload background images for smooth transitions
    const imageUrls = [
      'https://www.freepik.com/premium-photo/dividing-fractions-math-concept_7671426.htm#fromView=keyword&page=1&position=13&uuid=4e042236-2aab-49e4-b301-df95ca15d122&query=Fraction+Background', // fractions
      'https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=1920&h=1080&fit=crop', // decimals
      'https://images.unsplash.com/photo-1509228468518-180dd4864904?w=1920&h=1080&fit=crop', // angles
      'https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=1920&h=1080&fit=crop', // multiplication
      'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=1920&h=1080&fit=crop', // ratios
      'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1920&h=1080&fit=crop'  // statistics
    ];
    
    // Preload images
    imageUrls.forEach(url => {
      const img = new Image();
      img.src = url;
    });
    
    // Add some initial animation to buttons
    setTimeout(() => {
      topicButtons.forEach((button, index) => {
        setTimeout(() => {
          button.style.opacity = '0';
          button.style.transform = 'translateY(20px)';
          button.style.transition = 'all 0.6s ease';
          
          setTimeout(() => {
            button.style.opacity = '1';
            button.style.transform = 'translateY(0)';
          }, 50);
        }, index * 100);
      });
    }, 100);
  </script>
</body>
</html>